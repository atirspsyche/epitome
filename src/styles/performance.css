/* Performance optimizations for video-heavy pages */

/* Hardware acceleration for video elements */
video {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
  will-change: auto;
}

video.playing {
  will-change: transform, opacity;
}

/* Optimize featured cards for smooth animation */
.feat-card {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* CSS fallback for overlay logo animation */
@keyframes overlayFadeUp {
  0% {
    transform: translateY(0%);
    opacity: 1;
  }
  100% {
    transform: translateY(-100%);
    opacity: 0;
  }
}

.overlay-logo {
  animation-fill-mode: forwards;
  transform: translateY(0%);
}

/* CSS-based scroll-driven animation as fallback */
@supports (animation-timeline: scroll()) {
  .overlay-logo-css-fallback {
    animation: overlayFadeUp linear forwards;
    animation-timeline: scroll();
    animation-range: 0vh 100vh;
  }
}

/* Smooth scrolling optimizations */
html {
  scroll-behavior: smooth;
}

/* Fast scroll optimizations - reduce quality during rapid scrolling */
body.fast-scroll video {
  pointer-events: none;
  filter: blur(1px);
  opacity: 0.8;
}

body.fast-scroll .feat-card {
  pointer-events: none;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  video {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* GPU acceleration for hover effects */
.group:hover .transform {
  transform: translateZ(0);
}

/* Optimize for mobile performance */
@media (max-width: 768px) {
  video {
    max-width: 100vw;
    height: auto;
  }

  /* Reduce animation complexity on mobile */
  .mobile-video {
    will-change: opacity;
  }
}

/* Memory management hints */
.video-container {
  contain: layout style paint;
}

/* Efficient gradient rendering */
.bg-gradient-to-t,
.bg-gradient-to-r {
  will-change: auto;
}
